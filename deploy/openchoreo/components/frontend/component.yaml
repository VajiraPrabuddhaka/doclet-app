apiVersion: openchoreo.dev/v1alpha1
kind: Component
metadata:
  name: frontend
  namespace: default
spec:
  owner:
    projectName: doclet

  componentType: deployment/web-application
  autoDeploy: true

  workflow:
    name: docker
    systemParameters:
      repository:
        url: "https://github.com/VajiraPrabuddhaka/doclet.git"
        secretRef: "github-token"
        revision:
          branch: "main"
        appPath: "/"
    parameters:
      docker:
        context: "/"
        filePath: "/frontend/Dockerfile"

  parameters:
    replicas: 1
    port: 80
